app:
  title: Easy Export
  port: 8000
  host: localhost
  description: Easy Export
  version: 1.0.0
  contact:
    email: changyunjeff@outlook.com
    name: Chang Yun jeff

logging:
  level: DEBUG    # DEBUG, INFO, WARNING, ERROR, CRITICAL
  console_enabled: true
  log_path: "logs/dev.log"
  access_log_path: "logs/access.log"
  error_log_path: "logs/error.log"

redis:
  enabled: true
  host: localhost
  port: 6379
  db: 0
  password: null  # 可选，如果有密码则填写
  decode_responses: true
  max_connections: 50
  socket_connect_timeout: 5
  socket_timeout: 5

api:
  prefix: "/api/v1"
  cors:
    enabled: true
    allow_origins:
      - "http://localhost:3000"
    allow_headers:
      - "Content-Type"
      - "Authorization"
    allow_credentials: true
    expose_headers: []
    max_age: 7200

auth:
  enabled: true
  jwt:
    secret_key: "your-256-bit-secret"
    algorithm: "HS256"
    access_token_expire: "30m"
    refresh_token_expire: "7d"
  password_reset:
    enabled: true
    token_expire: "15m"

email:
  enabled: true
  smtp:
    host: "smtp.qq.com"
    port: 587
    user: "1405766437@qq.com"
    tls: true
    template_dir: "static/email_template"

rate_limit:
  enabled: false
  requests_per_minute: 20    # 极端测试：每分钟仅允许2个请求（用于测试限流）
  requests_per_hour: 50      # 极端测试：每小时仅允许5个请求
  requests_per_day: 1000      # 极端测试：每天仅允许10个请求
  burst_size: 1             # 极端测试：令牌桶突发大小为1
  key_prefix: "test_rate_limit"   # Redis键前缀（测试专用）

ddos_protection:
  enabled: false
  max_requests_per_second: 100   # 极端测试：每秒仅允许1个请求（用于测试DDoS防护）
  max_requests_per_minute: 300   # 极端测试：每分钟仅允许3个请求
  block_duration: 60           # 极端测试：封禁时长60秒（快速测试）
  whitelist_ips: 
    - "127.0.0.1"              # 测试白名单IP
    - "10.0.0.1"                # 测试白名单IP
  blacklist_ips: 
    - "192.168.1.100"           # 测试黑名单IP
    - "192.168.1.200"           # 测试黑名单IP
  key_prefix: "test_ddos_protection" # Redis键前缀（测试专用）
  enable_auto_blacklist: true   # 是否自动将超过阈值的IP加入黑名单