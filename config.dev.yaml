app:
  title: Easy Export
  port: 8000
  host: localhost
  description: Easy Export
  version: 1.0.0
  contact:
    email: changyunjeff@outlook.com
    name: Chang Yun jeff

logging:
  level: DEBUG    # DEBUG, INFO, WARNING, ERROR, CRITICAL
  console_enabled: true
  log_path: "logs/dev.log"
  access_log_path: "logs/access.log"
  error_log_path: "logs/error.log"

redis:
  enabled: true
  host: localhost
  port: 6379
  db: 0
  password: null  # 可选，如果有密码则填写
  decode_responses: true
  max_connections: 50
  socket_connect_timeout: 5
  socket_timeout: 5

api:
  prefix: "/api/v1"
  cors:
    enabled: true
    allow_origins:
      - "http://localhost:3000"
    allow_headers:
      - "Content-Type"
      - "Authorization"
    allow_credentials: true
    expose_headers: []
    max_age: 7200

auth:
  enabled: true
  jwt:
    secret_key: "your-256-bit-secret"
    algorithm: "HS256"
    access_token_expire: "30m"
    refresh_token_expire: "7d"
  password_reset:
    enabled: true
    token_expire: "15m"

email:
  enabled: true
  smtp:
    host: "smtp.qq.com"
    port: 587
    user: "1405766437@qq.com"
    tls: true
    template_dir: "static/email_template"

rate_limit:
  enabled: true
  requests_per_minute: 60    # 每分钟最大请求数
  requests_per_hour: 1000    # 每小时最大请求数
  requests_per_day: 10000   # 每天最大请求数
  burst_size: 10             # 令牌桶突发大小
  key_prefix: "rate_limit"   # Redis键前缀

ddos_protection:
  enabled: true
  max_requests_per_second: 10   # 每秒最大请求数
  max_requests_per_minute: 100   # 每分钟最大请求数
  block_duration: 3600          # 超过阈值后封禁时长（秒）
  whitelist_ips: []             # IP白名单
  blacklist_ips: []             # IP黑名单
  key_prefix: "ddos_protection" # Redis键前缀
  enable_auto_blacklist: true   # 是否自动将超过阈值的IP加入黑名单

rocketmq:
  enabled: true
  name_server: "localhost:9876"           # RocketMQ NameServer地址
  producer_group: "export_producer_group" # 生产者组名
  consumer_group: "export_consumer_group" # 消费者组名
  topic: "export_tasks"                   # 导出任务主题
  tag: "*"                               # 消息标签过滤器
  max_message_size: 4194304              # 最大消息大小(4MB)
  send_timeout: 3000                     # 发送超时时间(毫秒)
  retry_times: 3                         # 发送失败重试次数
  consumer_thread_min: 1                 # 最小消费者线程数
  consumer_thread_max: 5                 # 最大消费者线程数
  consume_message_batch_max_size: 1      # 批量消费最大消息数
  pull_batch_size: 32                    # 拉取批次大小
  pull_interval: 0                       # 拉取间隔(毫秒)
  consume_timeout: 15                    # 消费超时时间(分钟)
  max_reconsume_times: 16               # 最大重新消费次数
  suspend_current_queue_time: 1000      # 暂停当前队列时间(毫秒)
  access_key: null                      # 访问密钥(可选)
  secret_key: null                      # 秘密密钥(可选)
  security_token: null                  # 安全令牌(可选)
  namespace: null                       # 命名空间(可选)